---
// src/pages/services.astro
import Layout from "../layouts/Layout.astro";

const services = [
  {
    title: "Pengembangan Web",
    description: "Kami membuat website yang responsif, modern, dan SEO-friendly untuk bisnis Anda dengan teknologi terkini.",
    icon: "M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",
    features: ["Website Company Profile", "Website E-Commerce", "Landing Page", "Web Application"],
    price: "Mulai dari Rp 5.000.000"
  },
  {
    title: "Pengembangan Aplikasi Mobile",
    description: "Kembangkan aplikasi mobile iOS dan Android yang powerful dengan performa terbaik untuk bisnis Anda.",
    icon: "M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z",
    features: ["Aplikasi iOS", "Aplikasi Android", "Cross-Platform", "API Integration"],
    price: "Mulai dari Rp 15.000.000"
  },
  {
    title: "UI/UX Design",
    description: "Desain antarmuka yang intuitif dan pengalaman pengguna yang memukau untuk produk digital Anda.",
    icon: "M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z",
    features: ["User Research", "Wireframing", "Prototyping", "Design System"],
    price: "Mulai dari Rp 3.000.000"
  },
  {
    title: "Digital Marketing",
    description: "Tingkatkan visibilitas online dan konversi bisnis Anda dengan strategi digital marketing terbaik.",
    icon: "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",
    features: ["SEO Optimization", "Social Media Management", "Google Ads", "Content Marketing"],
    price: "Mulai dari Rp 2.500.000/bulan"
  },
  {
    title: "Cloud Solutions",
    description: "Optimalkan infrastruktur IT bisnis Anda dengan solusi cloud yang scalable dan aman.",
    icon: "M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z",
    features: ["Cloud Migration", "Server Management", "Data Backup", "Security Monitoring"],
    price: "Mulai dari Rp 4.000.000/bulan"
  },
  {
    title: "Konsultasi IT",
    description: "Dapatkan solusi dan arahan teknologi yang tepat untuk kebutuhan bisnis Anda dengan konsultasi ahli.",
    icon: "M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",
    features: ["IT Strategy", "Digital Transformation", "System Audit", "Technology Roadmap"],
    price: "Mulai dari Rp 2.000.000/sesi"
  }
];

const processSteps = [
  {
    step: "01",
    title: "Konsultasi",
    description: "Kami mendengarkan kebutuhan dan tujuan bisnis Anda untuk memahami permasalahan yang perlu diatasi."
  },
  {
    step: "02",
    title: "Perencanaan",
    description: "Kami membuat rencana proyek yang detail dengan timeline, anggaran, dan deliverables yang jelas."
  },
  {
    step: "03",
    title: "Eksekusi",
    description: "Tim ahli kami mengerjakan solusi dengan teknologi terkini dan metodologi terbaik."
  },
  {
    step: "04",
    title: "Pengujian",
    description: "Kami melakukan pengujian menyeluruh untuk memastikan kualitas dan performa optimal."
  },
  {
    step: "05",
    title: "Peluncuran",
    description: "Kami membantu meluncurkan solusi dan memastikan segala sesuatu berjalan dengan baik."
  },
  {
    step: "06",
    title: "Dukungan",
    description: "Kami memberikan dukungan pasca-peluncuran dan pemeliharaan untuk kepuasan jangka panjang."
  }
];

const values = [
  {
    title: "Inovasi",
    description: "Selalu mencari cara baru dan kreatif untuk menyelesaikan tantangan teknologi",
    icon: "M13 10V3L4 14h7v7l9-11h-7z"
  },
  {
    title: "Kolaborasi", 
    description: "Bekerja sama dengan klien sebagai mitra untuk mencapai hasil terbaik",
    icon: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
  },
  {
    title: "Kualitas",
    description: "Berkomitmen mengdelivery solusi berkualitas tinggi yang melampaui ekspektasi", 
    icon: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
  }
];
---

<Layout title="Layanan Kami - Genion Team Professional" description="Temukan layanan teknologi terbaik dari Genion Team untuk transformasi digital bisnis Anda">
  
  <!-- Tambahkan toggle theme button -->
  <div class="theme-toggle-container">
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
      <svg class="sun-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
      </svg>
      <svg class="moon-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
      </svg>
    </button>
  </div>

  <!-- Hero Section -->
  <section class="hero-section">
    <!-- Background Effects -->
    <div class="hero-effects">
      <div class="bg-effect bg-effect-1"></div>
      <div class="bg-effect bg-effect-2"></div>
      <div class="bg-effect bg-effect-3"></div>
    </div>

    <div class="container">
      <div class="hero-content">
        <div class="hero-badge">
          <div class="status-indicator"></div>
          <span>Layanan Profesional</span>
        </div>

        <h1 class="hero-title">
          Layanan Kami
        </h1>

        <p class="hero-description">
          Temukan solusi teknologi terbaik yang dirancang khusus untuk membantu bisnis Anda tumbuh dan bersaing di era digital.
        </p>
      </div>
    </div>
  </section>

  <!-- ... (sisa kode HTML sebelumnya tetap sama) -->

</Layout>

<style>
  :root {
    /* Core Colors - tetap sama */
    --color-primary-50: #f0f9ff;
    --color-primary-100: #e0f2fe;
    /* ... (variabel warna lainnya tetap sama) */
  }

  /* Light Theme Variables */
  [data-theme="light"] {
    --bg-primary: var(--color-gray-50);
    --bg-secondary: white;
    --bg-tertiary: var(--color-gray-100);
    --bg-quaternary: var(--color-gray-200);
    --text-primary: var(--color-gray-900);
    --text-secondary: var(--color-gray-600);
    --text-tertiary: var(--color-gray-500);
    --text-accent: var(--color-primary-600);
    --border-color: var(--color-gray-200);
    --border-secondary: var(--color-gray-300);
    --shadow-color: rgba(0, 0, 0, 0.1);
    --shadow-secondary: rgba(0, 0, 0, 0.05);
    --card-bg: white;
    --overlay-bg: rgba(255, 255, 255, 0.8);
    --hero-text-color: white;
    --hero-text-secondary: rgba(255, 255, 255, 0.8);
    --gradient-primary: linear-gradient(90deg, var(--color-primary-600), var(--color-accent-500));
    --gradient-secondary: linear-gradient(135deg, var(--color-primary-500), var(--color-accent-500));
    
    /* Hero section background untuk light mode */
    --hero-bg: linear-gradient(135deg, var(--color-primary-900) 0%, var(--color-primary-800) 50%, var(--color-accent-800) 100%);
    --cta-bg: linear-gradient(135deg, var(--color-primary-600), var(--color-accent-600));
  }

  /* Dark Theme Variables */
  [data-theme="dark"] {
    --bg-primary: var(--color-gray-900);
    --bg-secondary: var(--color-gray-800);
    --bg-tertiary: var(--color-gray-700);
    --bg-quaternary: var(--color-gray-600);
    --text-primary: var(--color-gray-50);
    --text-secondary: var(--color-gray-300);
    --text-tertiary: var(--color-gray-400);
    --text-accent: var(--color-primary-400);
    --border-color: var(--color-gray-700);
    --border-secondary: var(--color-gray-600);
    --shadow-color: rgba(0, 0, 0, 0.3);
    --shadow-secondary: rgba(0, 0, 0, 0.2);
    --card-bg: var(--color-gray-800);
    --overlay-bg: rgba(0, 0, 0, 0.5);
    --hero-text-color: white;
    --hero-text-secondary: rgba(255, 255, 255, 0.8);
    --gradient-primary: linear-gradient(90deg, var(--color-primary-400), var(--color-accent-400));
    --gradient-secondary: linear-gradient(135deg, var(--color-primary-400), var(--color-accent-400));
    
    /* Hero section background untuk dark mode */
    --hero-bg: linear-gradient(135deg, #0a0a0a 0%, var(--color-gray-900) 50%, var(--color-gray-800) 100%);
    --cta-bg: linear-gradient(135deg, var(--color-primary-700), var(--color-accent-700));
  }

  /* Default theme (mengikuti preferensi sistem) */
  :root {
    --bg-primary: var(--color-gray-50);
    --bg-secondary: white;
    /* ... (default light theme) */
    --hero-bg: linear-gradient(135deg, var(--color-primary-900) 0%, var(--color-primary-800) 50%, var(--color-accent-800) 100%);
    --cta-bg: linear-gradient(135deg, var(--color-primary-600), var(--color-accent-600));
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --bg-primary: var(--color-gray-900);
      --bg-secondary: var(--color-gray-800);
      /* ... (default dark theme) */
      --hero-bg: linear-gradient(135deg, #0a0a0a 0%, var(--color-gray-900) 50%, var(--color-gray-800) 100%);
      --cta-bg: linear-gradient(135deg, var(--color-primary-700), var(--color-accent-700));
    }
  }

  /* CSS Class-based Theme Support */
  .dark,
  [data-theme="dark"] {
    --bg-primary: var(--color-gray-900);
    --bg-secondary: var(--color-gray-800);
    /* ... (dark theme variables) */
    --hero-bg: linear-gradient(135deg, #0a0a0a 0%, var(--color-gray-900) 50%, var(--color-gray-800) 100%);
    --cta-bg: linear-gradient(135deg, var(--color-primary-700), var(--color-accent-700));
  }

  /* Theme Toggle Styles */
  .theme-toggle-container {
    position: fixed;
    top: 1.5rem;
    right: 1.5rem;
    z-index: 1000;
  }

  .theme-toggle {
    width: 3rem;
    height: 3rem;
    border-radius: 50%;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -1px var(--shadow-secondary);
  }

  .theme-toggle:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 15px -3px var(--shadow-color), 0 4px 6px -2px var(--shadow-secondary);
  }

  .theme-toggle .sun-icon,
  .theme-toggle .moon-icon {
    width: 1.5rem;
    height: 1.5rem;
    position: absolute;
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .theme-toggle .sun-icon {
    color: #f59e0b;
  }

  .theme-toggle .moon-icon {
    color: var(--text-primary);
    opacity: 0;
    transform: rotate(-90deg);
  }

  [data-theme="dark"] .theme-toggle .sun-icon {
    opacity: 0;
    transform: rotate(90deg);
  }

  [data-theme="dark"] .theme-toggle .moon-icon {
    opacity: 1;
    transform: rotate(0deg);
  }

  /* Update Hero Section Background */
  .hero-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    background: var(--hero-bg);
  }

  /* Update CTA Section Background */
  .cta-section {
    padding: 5rem 0;
    background: var(--cta-bg);
    position: relative;
    overflow: hidden;
  }

  /* ... (sisa kode CSS sebelumnya tetap sama) */

</style>

<script lang="ts">
  // Intersection Observer for scroll animations
  document.addEventListener('DOMContentLoaded', function() {
    const animatedElements = document.querySelectorAll('.animate-on-scroll, .service-card, .feature-card, .value-card, .process-step');
    
    if (animatedElements.length > 0) {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      animatedElements.forEach((el, index) => {
        // Add staggered delay for better visual effect
        el.style.transitionDelay = `${index * 0.1}s`;
        observer.observe(el);
      });
    }

    // Enhanced loading states for service cards
    const serviceCtaButtons = document.querySelectorAll('.service-cta');
    serviceCtaButtons.forEach(button => {
      button.addEventListener('click', function(e) {
        if (!button.classList.contains('loading')) {
          button.classList.add('loading');
          button.style.opacity = '0.7';
          const originalText = button.innerHTML;
          button.innerHTML = 'Memuat...';
          
          // Reset after navigation (this won't execute if page changes)
          setTimeout(() => {
            button.classList.remove('loading');
            button.style.opacity = '1';
            button.innerHTML = originalText;
          }, 2000);
        }
      });
    });

    // Enhanced keyboard navigation
    const focusableElements = document.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])');
    focusableElements.forEach(element => {
      element.addEventListener('focus', function() {
        this.style.outline = '3px solid var(--color-primary-400)';
        this.style.outlineOffset = '2px';
      });
      
      element.addEventListener('blur', function() {
        this.style.outline = 'none';
      });
    });

    // Performance optimization for low-end devices
    const isLowEndDevice = navigator.hardwareConcurrency && navigator.hardwareConcurrency < 4;
    if (isLowEndDevice) {
      document.documentElement.style.setProperty('--animation-duration', '0.3s');
      // Reduce background effects on low-end devices
      const bgEffects = document.querySelectorAll('.bg-effect, .cta-effect');
      bgEffects.forEach(effect => {
        effect.style.display = 'none';
      });
    }

    // Theme detection and handling
    const detectTheme = () => {
      const isDark = document.documentElement.classList.contains('dark') ||
                    document.documentElement.getAttribute('data-theme') === 'dark' ||
                    (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
      
      // Add theme-specific optimizations
      if (isDark) {
        document.body.classList.add('dark-theme-optimized');
      } else {
        document.body.classList.remove('dark-theme-optimized');
      }
    };

    // Watch for theme changes
    const observer = new MutationObserver(detectTheme);
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['class', 'data-theme']
    });

    // Listen for system theme changes
    if (window.matchMedia) {
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', detectTheme);
    }

    // Initial theme detection
    detectTheme();

    // Smooth scrolling for anchor links
    const anchorLinks = document.querySelectorAll('a[href^="#"]');
    anchorLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          const headerOffset = 80; // Adjust based on your header height
          const elementPosition = targetElement.offsetTop;
          const offsetPosition = elementPosition - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      });
    });

    // Enhanced card interactions
    const cards = document.querySelectorAll('.service-card, .feature-card, .value-card');
    cards.forEach(card => {
      card.addEventListener('mouseenter', function() {
        this.style.zIndex = '10';
      });
      
      card.addEventListener('mouseleave', function() {
        this.style.zIndex = '1';
      });
    });
  });

  // Error handling for failed resources
  document.addEventListener('error', function(e) {
    if (e.target.tagName === 'IMG') {
      e.target.style.display = 'none';
      console.warn('Image failed to load:', e.target.src);
    }
  }, true);

  // Preload critical resources
  const preloadResources = () => {
    const criticalImages = document.querySelectorAll('img[data-preload]');
    criticalImages.forEach(img => {
      const link = document.createElement('link');
      link.rel = 'preload';
      link.as = 'image';
      link.href = img.src;
      document.head.appendChild(link);
    });
  };

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', preloadResources);
  } else {
    preloadResources();
  }
</script>