/* empty css                         */
import { a as createComponent, b as renderTemplate, r as renderComponent, m as maybeRenderHead } from './astro/server_BSuLEWao.mjs';
import { $ as $$Image } from './_astro_assets_BVbQma4L.mjs';
/* empty css                           */

const maskot = new Proxy({"src":"/_astro/maskot_genion.mgd7PCLn.png","width":1024,"height":1024,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "/home/linuxdevco/Workspace/Genion_web/src/images/maskot_genion.png";
							}
							
							return target[name];
						}
					});

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Chatbot = createComponent(async ($$result, $$props, $$slots) => {
  return renderTemplate(_a || (_a = __template(["<!-- Overlay Backdrop -->", '<div id="chat-overlay" class="chat-overlay hidden fixed inset-0 bg-black/30 z-[9998]" data-astro-cid-cpe23hkd></div> <!-- Chatbot Widget with Maskot --> <div class="fixed bottom-6 right-6 z-[9999]" data-astro-cid-cpe23hkd> <!-- Speech Bubble --> <div id="mascot-bubble" class="absolute bottom-full right-16 mb-2 opacity-0 pointer-events-none" style="animation: fadeIn 0.5s ease 0.5s forwards;" data-astro-cid-cpe23hkd> <div class="bg-white dark:bg-gray-800 rounded-2xl rounded-br-sm px-4 py-2 shadow-2xl border-2 border-blue-200 dark:border-green-600" data-astro-cid-cpe23hkd> <p id="mascot-text" class="text-xs text-gray-700 dark:text-gray-200 font-medium whitespace-nowrap" data-astro-cid-cpe23hkd></p> <div id="mascot-typing" class="flex space-x-1" data-astro-cid-cpe23hkd> <div class="w-1.5 h-1.5 bg-blue-500 dark:bg-green-500 rounded-full animate-bounce" data-astro-cid-cpe23hkd></div> <div class="w-1.5 h-1.5 bg-blue-500 dark:bg-green-500 rounded-full animate-bounce" style="animation-delay: 0.15s;" data-astro-cid-cpe23hkd></div> <div class="w-1.5 h-1.5 bg-blue-500 dark:bg-green-500 rounded-full animate-bounce" style="animation-delay: 0.3s;" data-astro-cid-cpe23hkd></div> </div> </div> <div class="absolute bottom-1 right-0 w-0 h-0 border-t-6 border-t-transparent border-b-6 border-b-transparent border-l-6 border-l-white dark:border-l-gray-800 transform translate-x-full" data-astro-cid-cpe23hkd></div> </div> <!-- Maskot and Button Container --> <div class="relative flex items-end gap-1" data-astro-cid-cpe23hkd> <div class="mascot-container relative flex items-end justify-center" style="width: 120px; height: 120px;" data-astro-cid-cpe23hkd> ', ' <div class="absolute -right-1 top-1/3 text-xl animate-bounce pointer-events-none" style="animation-duration: 1s;" data-astro-cid-cpe23hkd>\n\u{1F449}\n</div> </div> <!-- Toggle Button --> <button id="chatbot-toggle" class="w-14 h-14 flex items-center justify-center \n              bg-gradient-to-r from-blue-400 to-blue-600 dark:from-green-500 dark:to-green-700 text-white rounded-full shadow-2xl border-2 border-white/50 dark:border-gray-700/50 \n              transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-12 relative mb-1\n              animate-pulse" style="animation-duration: 2s;" aria-label="Open chat" data-astro-cid-cpe23hkd> <span class="text-2xl" role="img" aria-label="chat" data-astro-cid-cpe23hkd>\u{1F4AC}</span> <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-gray-900 animate-ping" data-astro-cid-cpe23hkd></span> <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-gray-900 flex items-center justify-center text-[10px] text-white font-bold" data-astro-cid-cpe23hkd>!</span> </button> </div> </div> <!-- Chatbot Sidebar --> <div id="chatbot-popup" class="hidden fixed top-0 right-0 z-[9999] w-full sm:w-96 h-full bg-white dark:bg-gray-900 shadow-2xl border-l border-gray-200 dark:border-gray-700 sidebar-slide translate-x-full flex flex-col" data-astro-cid-cpe23hkd> <!-- Header --> <div class="bg-gradient-to-r from-blue-400 to-blue-600 dark:from-green-500 dark:to-green-700 p-5 flex items-center justify-between" data-astro-cid-cpe23hkd> <div class="flex items-center space-x-3" data-astro-cid-cpe23hkd> <div class="w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center" data-astro-cid-cpe23hkd> <span class="text-white text-xl" role="img" aria-label="chat" data-astro-cid-cpe23hkd>\u{1F4AC}</span> </div> <div data-astro-cid-cpe23hkd> <div class="text-white font-semibold text-lg" data-astro-cid-cpe23hkd>Genion Assistant</div> <div class="flex items-center gap-1 text-white/90 text-xs" data-astro-cid-cpe23hkd> <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse" data-astro-cid-cpe23hkd></span>\nOnline - Siap membantu\n</div> </div> </div> <button id="chatbot-close" class="text-white/80 hover:text-white transition-colors text-2xl w-8 h-8 flex items-center justify-center hover:bg-white/10 rounded-lg" aria-label="Close chat" data-astro-cid-cpe23hkd>\u2716</button> </div> <!-- Messages Area --> <div id="chatbot-messages" class="flex-1 p-5 overflow-y-auto chat-scrollbar space-y-4 bg-gray-50 dark:bg-gray-900" data-astro-cid-cpe23hkd> <div class="animate-fadeIn" data-astro-cid-cpe23hkd> <div class="flex items-start space-x-2" data-astro-cid-cpe23hkd> <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0" data-astro-cid-cpe23hkd> <span class="text-white text-xs" role="img" aria-label="bot" data-astro-cid-cpe23hkd>\u{1F916}</span> </div> <div class="bg-white dark:bg-gray-800 rounded-2xl rounded-tl-sm p-4 shadow-sm max-w-[85%]" data-astro-cid-cpe23hkd> <p class="text-gray-700 dark:text-gray-200 text-sm" data-astro-cid-cpe23hkd>Hai! Saya adalah <b data-astro-cid-cpe23hkd>Genion Assistant</b>, siap membantu Anda dalam pertanyaan <b data-astro-cid-cpe23hkd>apapun</b> seputar Genion! \u{1F680}</p> </div> </div> <time class="text-xs text-gray-400 mt-1 ml-10 block" data-astro-cid-cpe23hkd>Baru saja</time> </div> </div> <!-- Input Area --> <div class="p-5 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700" data-astro-cid-cpe23hkd> <form id="chat-form" class="flex gap-2" data-astro-cid-cpe23hkd> <input id="chatbot-input" type="text" placeholder="Ketik pesan Anda..." autocomplete="off" class="flex-1 bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-800 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-green-500 focus:border-transparent transition-all" aria-label="Message input" data-astro-cid-cpe23hkd> <button type="submit" id="chatbot-send" class="bg-gradient-to-r from-blue-400 to-blue-600 dark:from-green-500 dark:to-green-700 text-white px-5 rounded-xl hover:from-blue-500 hover:to-blue-700 dark:hover:from-green-600 dark:hover:to-green-800 transition-all duration-300 flex items-center justify-center shadow-sm hover:shadow-md" aria-label="Send message" data-astro-cid-cpe23hkd> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" data-astro-cid-cpe23hkd> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" data-astro-cid-cpe23hkd></path> </svg> </button> </form> </div> </div> <script lang="ts">\n(function() {\n    \'use strict\';\n    \n    // Cache DOM elements\n    const elements = {\n        popup: document.getElementById("chatbot-popup"),\n        input: document.getElementById("chatbot-input"),\n        messages: document.getElementById("chatbot-messages"),\n        toggle: document.getElementById("chatbot-toggle"),\n        close: document.getElementById("chatbot-close"),\n        form: document.getElementById("chat-form"),\n        mascotText: document.getElementById("mascot-text"),\n        mascotTyping: document.getElementById("mascot-typing"),\n        mascotImg: document.getElementById("mascot-img"),\n        overlay: document.getElementById("chat-overlay")\n    };\n\n    // Constants\n    const MESSAGES = [\n        "Halo! Aku Genisten, Genion Asisten! \u{1F60A}",\n        "Ada yang bisa saya bantu? \u{1F4AC}",\n        "Yuk chat dengan saya! \u{1F680}"\n    ];\n    const TYPING_SPEED = 50;\n    const MESSAGE_DISPLAY_TIME = 4000;\n    const TYPING_DELAY = 1500;\n\n    let currentMessageIndex = 0;\n    let isTyping = false;\n\n    // Optimized typing animation\n    function typeMessage(text, callback) {\n        if (!elements.mascotText || !elements.mascotTyping || isTyping) return;\n        \n        isTyping = true;\n        elements.mascotTyping.classList.remove("hidden");\n        elements.mascotText.textContent = "";\n        \n        setTimeout(() => {\n            elements.mascotTyping.classList.add("hidden");\n            let i = 0;\n            const typingInterval = setInterval(() => {\n                if (i < text.length) {\n                    elements.mascotText.textContent += text[i];\n                    i++;\n                } else {\n                    clearInterval(typingInterval);\n                    isTyping = false;\n                    if (callback) callback();\n                }\n            }, TYPING_SPEED);\n        }, TYPING_DELAY);\n    }\n\n    function cycleMascotMessages() {\n        typeMessage(MESSAGES[currentMessageIndex], () => {\n            setTimeout(() => {\n                currentMessageIndex = (currentMessageIndex + 1) % MESSAGES.length;\n                cycleMascotMessages();\n            }, MESSAGE_DISPLAY_TIME);\n        });\n    }\n\n    // Start animation after DOM ready\n    setTimeout(cycleMascotMessages, 1000);\n\n    // Sidebar controls\n    function openSidebar() {\n        if (!elements.popup.classList.contains("hidden")) return;\n        \n        elements.popup.classList.remove("hidden");\n        elements.overlay.classList.remove("hidden");\n        \n        requestAnimationFrame(() => {\n            elements.popup.classList.remove("translate-x-full");\n            elements.popup.classList.add("translate-x-0");\n            elements.overlay.classList.add("show");\n            \n            setTimeout(() => elements.input.focus(), 300);\n        });\n    }\n\n    function closeSidebar() {\n        elements.popup.classList.remove("translate-x-0");\n        elements.popup.classList.add("translate-x-full");\n        elements.overlay.classList.remove("show");\n        \n        setTimeout(() => {\n            elements.popup.classList.add("hidden");\n            elements.overlay.classList.add("hidden");\n        }, 300);\n    }\n\n    // Time helper\n    const getCurrentTime = () => {\n        const now = new Date();\n        return `${String(now.getHours()).padStart(2, \'0\')}:${String(now.getMinutes()).padStart(2, \'0\')}`;\n    };\n\n    // Message creation helpers\n    function createMessageElement(content, isUser = false) {\n        const div = document.createElement("div");\n        div.className = "animate-fadeIn";\n        \n        const currentTime = getCurrentTime();\n        const alignment = isUser ? "justify-end" : "";\n        const bgClass = isUser \n            ? "bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-tr-sm" \n            : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 rounded-tl-sm";\n        const avatar = isUser \n            ? \'<div class="w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-full flex items-center justify-center flex-shrink-0"><span class="text-gray-600 dark:text-gray-400 text-xs" role="img" aria-label="user">\u{1F464}</span></div>\'\n            : \'<div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0"><span class="text-white text-xs" role="img" aria-label="bot">\u{1F916}</span></div>\';\n        const order = isUser ? "flex-row-reverse" : "";\n        const timeAlign = isUser ? "text-right mr-10" : "ml-10";\n        \n        div.innerHTML = `\n            <div class="flex items-start space-x-2 ${alignment} ${order}">\n                ${avatar}\n                <div class="${bgClass} rounded-2xl px-4 py-2 max-w-[85%] shadow-sm">\n                    ${content}\n                </div>\n            </div>\n            <time class="text-xs text-gray-400 mt-1 ${timeAlign} block">${currentTime}</time>\n        `;\n        \n        return div;\n    }\n\n    function createTypingIndicator() {\n        const div = document.createElement("div");\n        div.className = "flex items-start space-x-2 typing-message animate-fadeIn";\n        div.innerHTML = `\n            <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0">\n                <span class="text-white text-xs" role="img" aria-label="bot">\u{1F916}</span>\n            </div>\n            <div class="bg-gray-200 dark:bg-gray-800 rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm">\n                <div class="flex space-x-1 typing-indicator">\n                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>\n                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>\n                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>\n                </div>\n            </div>\n        `;\n        return div;\n    }\n\n    // Format message content\n    function formatMessage(text) {\n        text = text.trim();\n        \n        if (/^[-*\u2022]/m.test(text)) {\n            const lines = text.split(/\\n+/).map(line => line.trim()).filter(Boolean);\n            const items = lines.map(line => \n                `<li>${line.replace(/^[-*\u2022]\\s*/, "")}</li>`\n            ).join("");\n            return `<ul class=\'list-disc pl-5 space-y-1 text-sm\'>${items}</ul>`;\n        }\n        \n        return text.split(/\\n+/).filter(Boolean)\n            .map(p => `<p class="text-sm mb-2">${p}</p>`)\n            .join("");\n    }\n\n    // Auto-scroll to bottom\n    function scrollToBottom() {\n        requestAnimationFrame(() => {\n            elements.messages.scrollTop = elements.messages.scrollHeight;\n        });\n    }\n\n    // Send message handler\n    async function sendMessage(msg) {\n        if (!msg || !elements.messages) return;\n        \n        // Add user message\n        const userMsg = createMessageElement(`<p class="text-sm">${msg}</p>`, true);\n        elements.messages.appendChild(userMsg);\n        scrollToBottom();\n        \n        // Add typing indicator\n        const typingIndicator = createTypingIndicator();\n        elements.messages.appendChild(typingIndicator);\n        scrollToBottom();\n        \n        try {\n            const response = await fetch("/api/chat", {\n                method: "POST",\n                headers: { "Content-Type": "application/json" },\n                body: JSON.stringify({ message: msg })\n            });\n            \n            const data = await response.json();\n            \n            // Remove typing indicator\n            typingIndicator.remove();\n            \n            // Add bot response\n            const formattedReply = formatMessage(data.reply);\n            const botMsg = createMessageElement(formattedReply, false);\n            elements.messages.appendChild(botMsg);\n            scrollToBottom();\n            \n        } catch (error) {\n            console.error("Chat error:", error);\n            typingIndicator.remove();\n            \n            const errorMsg = createMessageElement(\n                \'<p class="text-red-800 dark:text-red-200 text-sm">Gagal terhubung ke server. Silakan coba lagi.</p>\',\n                false\n            );\n            errorMsg.querySelector(\'.bg-gradient-to-br\').className = \'w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0\';\n            errorMsg.querySelector(\'.bg-white\').className = \'bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-2xl px-4 py-2 max-w-[85%] shadow-sm\';\n            elements.messages.appendChild(errorMsg);\n            scrollToBottom();\n        }\n    }\n\n    // Event listeners\n    elements.toggle?.addEventListener("click", openSidebar);\n    elements.close?.addEventListener("click", closeSidebar);\n    elements.overlay?.addEventListener("click", closeSidebar);\n    elements.mascotImg?.addEventListener("click", openSidebar);\n    \n    elements.form?.addEventListener("submit", (e) => {\n        e.preventDefault();\n        const msg = elements.input.value.trim();\n        if (msg) {\n            elements.input.value = "";\n            sendMessage(msg);\n        }\n    });\n\n    // Keyboard shortcuts\n    document.addEventListener("keydown", (e) => {\n        if (e.key === "Escape" && !elements.popup.classList.contains("hidden")) {\n            closeSidebar();\n        }\n    });\n})();\n<\/script>'], ["<!-- Overlay Backdrop -->", '<div id="chat-overlay" class="chat-overlay hidden fixed inset-0 bg-black/30 z-[9998]" data-astro-cid-cpe23hkd></div> <!-- Chatbot Widget with Maskot --> <div class="fixed bottom-6 right-6 z-[9999]" data-astro-cid-cpe23hkd> <!-- Speech Bubble --> <div id="mascot-bubble" class="absolute bottom-full right-16 mb-2 opacity-0 pointer-events-none" style="animation: fadeIn 0.5s ease 0.5s forwards;" data-astro-cid-cpe23hkd> <div class="bg-white dark:bg-gray-800 rounded-2xl rounded-br-sm px-4 py-2 shadow-2xl border-2 border-blue-200 dark:border-green-600" data-astro-cid-cpe23hkd> <p id="mascot-text" class="text-xs text-gray-700 dark:text-gray-200 font-medium whitespace-nowrap" data-astro-cid-cpe23hkd></p> <div id="mascot-typing" class="flex space-x-1" data-astro-cid-cpe23hkd> <div class="w-1.5 h-1.5 bg-blue-500 dark:bg-green-500 rounded-full animate-bounce" data-astro-cid-cpe23hkd></div> <div class="w-1.5 h-1.5 bg-blue-500 dark:bg-green-500 rounded-full animate-bounce" style="animation-delay: 0.15s;" data-astro-cid-cpe23hkd></div> <div class="w-1.5 h-1.5 bg-blue-500 dark:bg-green-500 rounded-full animate-bounce" style="animation-delay: 0.3s;" data-astro-cid-cpe23hkd></div> </div> </div> <div class="absolute bottom-1 right-0 w-0 h-0 border-t-6 border-t-transparent border-b-6 border-b-transparent border-l-6 border-l-white dark:border-l-gray-800 transform translate-x-full" data-astro-cid-cpe23hkd></div> </div> <!-- Maskot and Button Container --> <div class="relative flex items-end gap-1" data-astro-cid-cpe23hkd> <div class="mascot-container relative flex items-end justify-center" style="width: 120px; height: 120px;" data-astro-cid-cpe23hkd> ', ' <div class="absolute -right-1 top-1/3 text-xl animate-bounce pointer-events-none" style="animation-duration: 1s;" data-astro-cid-cpe23hkd>\n\u{1F449}\n</div> </div> <!-- Toggle Button --> <button id="chatbot-toggle" class="w-14 h-14 flex items-center justify-center \n              bg-gradient-to-r from-blue-400 to-blue-600 dark:from-green-500 dark:to-green-700 text-white rounded-full shadow-2xl border-2 border-white/50 dark:border-gray-700/50 \n              transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-12 relative mb-1\n              animate-pulse" style="animation-duration: 2s;" aria-label="Open chat" data-astro-cid-cpe23hkd> <span class="text-2xl" role="img" aria-label="chat" data-astro-cid-cpe23hkd>\u{1F4AC}</span> <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-gray-900 animate-ping" data-astro-cid-cpe23hkd></span> <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-gray-900 flex items-center justify-center text-[10px] text-white font-bold" data-astro-cid-cpe23hkd>!</span> </button> </div> </div> <!-- Chatbot Sidebar --> <div id="chatbot-popup" class="hidden fixed top-0 right-0 z-[9999] w-full sm:w-96 h-full bg-white dark:bg-gray-900 shadow-2xl border-l border-gray-200 dark:border-gray-700 sidebar-slide translate-x-full flex flex-col" data-astro-cid-cpe23hkd> <!-- Header --> <div class="bg-gradient-to-r from-blue-400 to-blue-600 dark:from-green-500 dark:to-green-700 p-5 flex items-center justify-between" data-astro-cid-cpe23hkd> <div class="flex items-center space-x-3" data-astro-cid-cpe23hkd> <div class="w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center" data-astro-cid-cpe23hkd> <span class="text-white text-xl" role="img" aria-label="chat" data-astro-cid-cpe23hkd>\u{1F4AC}</span> </div> <div data-astro-cid-cpe23hkd> <div class="text-white font-semibold text-lg" data-astro-cid-cpe23hkd>Genion Assistant</div> <div class="flex items-center gap-1 text-white/90 text-xs" data-astro-cid-cpe23hkd> <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse" data-astro-cid-cpe23hkd></span>\nOnline - Siap membantu\n</div> </div> </div> <button id="chatbot-close" class="text-white/80 hover:text-white transition-colors text-2xl w-8 h-8 flex items-center justify-center hover:bg-white/10 rounded-lg" aria-label="Close chat" data-astro-cid-cpe23hkd>\u2716</button> </div> <!-- Messages Area --> <div id="chatbot-messages" class="flex-1 p-5 overflow-y-auto chat-scrollbar space-y-4 bg-gray-50 dark:bg-gray-900" data-astro-cid-cpe23hkd> <div class="animate-fadeIn" data-astro-cid-cpe23hkd> <div class="flex items-start space-x-2" data-astro-cid-cpe23hkd> <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0" data-astro-cid-cpe23hkd> <span class="text-white text-xs" role="img" aria-label="bot" data-astro-cid-cpe23hkd>\u{1F916}</span> </div> <div class="bg-white dark:bg-gray-800 rounded-2xl rounded-tl-sm p-4 shadow-sm max-w-[85%]" data-astro-cid-cpe23hkd> <p class="text-gray-700 dark:text-gray-200 text-sm" data-astro-cid-cpe23hkd>Hai! Saya adalah <b data-astro-cid-cpe23hkd>Genion Assistant</b>, siap membantu Anda dalam pertanyaan <b data-astro-cid-cpe23hkd>apapun</b> seputar Genion! \u{1F680}</p> </div> </div> <time class="text-xs text-gray-400 mt-1 ml-10 block" data-astro-cid-cpe23hkd>Baru saja</time> </div> </div> <!-- Input Area --> <div class="p-5 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700" data-astro-cid-cpe23hkd> <form id="chat-form" class="flex gap-2" data-astro-cid-cpe23hkd> <input id="chatbot-input" type="text" placeholder="Ketik pesan Anda..." autocomplete="off" class="flex-1 bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-800 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-green-500 focus:border-transparent transition-all" aria-label="Message input" data-astro-cid-cpe23hkd> <button type="submit" id="chatbot-send" class="bg-gradient-to-r from-blue-400 to-blue-600 dark:from-green-500 dark:to-green-700 text-white px-5 rounded-xl hover:from-blue-500 hover:to-blue-700 dark:hover:from-green-600 dark:hover:to-green-800 transition-all duration-300 flex items-center justify-center shadow-sm hover:shadow-md" aria-label="Send message" data-astro-cid-cpe23hkd> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" data-astro-cid-cpe23hkd> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" data-astro-cid-cpe23hkd></path> </svg> </button> </form> </div> </div> <script lang="ts">\n(function() {\n    \'use strict\';\n    \n    // Cache DOM elements\n    const elements = {\n        popup: document.getElementById("chatbot-popup"),\n        input: document.getElementById("chatbot-input"),\n        messages: document.getElementById("chatbot-messages"),\n        toggle: document.getElementById("chatbot-toggle"),\n        close: document.getElementById("chatbot-close"),\n        form: document.getElementById("chat-form"),\n        mascotText: document.getElementById("mascot-text"),\n        mascotTyping: document.getElementById("mascot-typing"),\n        mascotImg: document.getElementById("mascot-img"),\n        overlay: document.getElementById("chat-overlay")\n    };\n\n    // Constants\n    const MESSAGES = [\n        "Halo! Aku Genisten, Genion Asisten! \u{1F60A}",\n        "Ada yang bisa saya bantu? \u{1F4AC}",\n        "Yuk chat dengan saya! \u{1F680}"\n    ];\n    const TYPING_SPEED = 50;\n    const MESSAGE_DISPLAY_TIME = 4000;\n    const TYPING_DELAY = 1500;\n\n    let currentMessageIndex = 0;\n    let isTyping = false;\n\n    // Optimized typing animation\n    function typeMessage(text, callback) {\n        if (!elements.mascotText || !elements.mascotTyping || isTyping) return;\n        \n        isTyping = true;\n        elements.mascotTyping.classList.remove("hidden");\n        elements.mascotText.textContent = "";\n        \n        setTimeout(() => {\n            elements.mascotTyping.classList.add("hidden");\n            let i = 0;\n            const typingInterval = setInterval(() => {\n                if (i < text.length) {\n                    elements.mascotText.textContent += text[i];\n                    i++;\n                } else {\n                    clearInterval(typingInterval);\n                    isTyping = false;\n                    if (callback) callback();\n                }\n            }, TYPING_SPEED);\n        }, TYPING_DELAY);\n    }\n\n    function cycleMascotMessages() {\n        typeMessage(MESSAGES[currentMessageIndex], () => {\n            setTimeout(() => {\n                currentMessageIndex = (currentMessageIndex + 1) % MESSAGES.length;\n                cycleMascotMessages();\n            }, MESSAGE_DISPLAY_TIME);\n        });\n    }\n\n    // Start animation after DOM ready\n    setTimeout(cycleMascotMessages, 1000);\n\n    // Sidebar controls\n    function openSidebar() {\n        if (!elements.popup.classList.contains("hidden")) return;\n        \n        elements.popup.classList.remove("hidden");\n        elements.overlay.classList.remove("hidden");\n        \n        requestAnimationFrame(() => {\n            elements.popup.classList.remove("translate-x-full");\n            elements.popup.classList.add("translate-x-0");\n            elements.overlay.classList.add("show");\n            \n            setTimeout(() => elements.input.focus(), 300);\n        });\n    }\n\n    function closeSidebar() {\n        elements.popup.classList.remove("translate-x-0");\n        elements.popup.classList.add("translate-x-full");\n        elements.overlay.classList.remove("show");\n        \n        setTimeout(() => {\n            elements.popup.classList.add("hidden");\n            elements.overlay.classList.add("hidden");\n        }, 300);\n    }\n\n    // Time helper\n    const getCurrentTime = () => {\n        const now = new Date();\n        return \\`\\${String(now.getHours()).padStart(2, \'0\')}:\\${String(now.getMinutes()).padStart(2, \'0\')}\\`;\n    };\n\n    // Message creation helpers\n    function createMessageElement(content, isUser = false) {\n        const div = document.createElement("div");\n        div.className = "animate-fadeIn";\n        \n        const currentTime = getCurrentTime();\n        const alignment = isUser ? "justify-end" : "";\n        const bgClass = isUser \n            ? "bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-tr-sm" \n            : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 rounded-tl-sm";\n        const avatar = isUser \n            ? \'<div class="w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-full flex items-center justify-center flex-shrink-0"><span class="text-gray-600 dark:text-gray-400 text-xs" role="img" aria-label="user">\u{1F464}</span></div>\'\n            : \'<div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0"><span class="text-white text-xs" role="img" aria-label="bot">\u{1F916}</span></div>\';\n        const order = isUser ? "flex-row-reverse" : "";\n        const timeAlign = isUser ? "text-right mr-10" : "ml-10";\n        \n        div.innerHTML = \\`\n            <div class="flex items-start space-x-2 \\${alignment} \\${order}">\n                \\${avatar}\n                <div class="\\${bgClass} rounded-2xl px-4 py-2 max-w-[85%] shadow-sm">\n                    \\${content}\n                </div>\n            </div>\n            <time class="text-xs text-gray-400 mt-1 \\${timeAlign} block">\\${currentTime}</time>\n        \\`;\n        \n        return div;\n    }\n\n    function createTypingIndicator() {\n        const div = document.createElement("div");\n        div.className = "flex items-start space-x-2 typing-message animate-fadeIn";\n        div.innerHTML = \\`\n            <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0">\n                <span class="text-white text-xs" role="img" aria-label="bot">\u{1F916}</span>\n            </div>\n            <div class="bg-gray-200 dark:bg-gray-800 rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm">\n                <div class="flex space-x-1 typing-indicator">\n                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>\n                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>\n                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>\n                </div>\n            </div>\n        \\`;\n        return div;\n    }\n\n    // Format message content\n    function formatMessage(text) {\n        text = text.trim();\n        \n        if (/^[-*\u2022]/m.test(text)) {\n            const lines = text.split(/\\\\n+/).map(line => line.trim()).filter(Boolean);\n            const items = lines.map(line => \n                \\`<li>\\${line.replace(/^[-*\u2022]\\\\s*/, "")}</li>\\`\n            ).join("");\n            return \\`<ul class=\'list-disc pl-5 space-y-1 text-sm\'>\\${items}</ul>\\`;\n        }\n        \n        return text.split(/\\\\n+/).filter(Boolean)\n            .map(p => \\`<p class="text-sm mb-2">\\${p}</p>\\`)\n            .join("");\n    }\n\n    // Auto-scroll to bottom\n    function scrollToBottom() {\n        requestAnimationFrame(() => {\n            elements.messages.scrollTop = elements.messages.scrollHeight;\n        });\n    }\n\n    // Send message handler\n    async function sendMessage(msg) {\n        if (!msg || !elements.messages) return;\n        \n        // Add user message\n        const userMsg = createMessageElement(\\`<p class="text-sm">\\${msg}</p>\\`, true);\n        elements.messages.appendChild(userMsg);\n        scrollToBottom();\n        \n        // Add typing indicator\n        const typingIndicator = createTypingIndicator();\n        elements.messages.appendChild(typingIndicator);\n        scrollToBottom();\n        \n        try {\n            const response = await fetch("/api/chat", {\n                method: "POST",\n                headers: { "Content-Type": "application/json" },\n                body: JSON.stringify({ message: msg })\n            });\n            \n            const data = await response.json();\n            \n            // Remove typing indicator\n            typingIndicator.remove();\n            \n            // Add bot response\n            const formattedReply = formatMessage(data.reply);\n            const botMsg = createMessageElement(formattedReply, false);\n            elements.messages.appendChild(botMsg);\n            scrollToBottom();\n            \n        } catch (error) {\n            console.error("Chat error:", error);\n            typingIndicator.remove();\n            \n            const errorMsg = createMessageElement(\n                \'<p class="text-red-800 dark:text-red-200 text-sm">Gagal terhubung ke server. Silakan coba lagi.</p>\',\n                false\n            );\n            errorMsg.querySelector(\'.bg-gradient-to-br\').className = \'w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0\';\n            errorMsg.querySelector(\'.bg-white\').className = \'bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-2xl px-4 py-2 max-w-[85%] shadow-sm\';\n            elements.messages.appendChild(errorMsg);\n            scrollToBottom();\n        }\n    }\n\n    // Event listeners\n    elements.toggle?.addEventListener("click", openSidebar);\n    elements.close?.addEventListener("click", closeSidebar);\n    elements.overlay?.addEventListener("click", closeSidebar);\n    elements.mascotImg?.addEventListener("click", openSidebar);\n    \n    elements.form?.addEventListener("submit", (e) => {\n        e.preventDefault();\n        const msg = elements.input.value.trim();\n        if (msg) {\n            elements.input.value = "";\n            sendMessage(msg);\n        }\n    });\n\n    // Keyboard shortcuts\n    document.addEventListener("keydown", (e) => {\n        if (e.key === "Escape" && !elements.popup.classList.contains("hidden")) {\n            closeSidebar();\n        }\n    });\n})();\n<\/script>'])), maybeRenderHead(), renderComponent($$result, "Image", $$Image, { "src": maskot, "alt": "Genion Maskot", "width": 120, "height": 120, "loading": "lazy", "format": "avif", "quality": 80, "class": "w-full h-full object-contain object-bottom drop-shadow-2xl transition-transform duration-500 hover:scale-105 animate-bounce cursor-pointer", "style": "animation-duration: 2s;", "id": "mascot-img", "data-astro-cid-cpe23hkd": true }));
}, "/home/linuxdevco/Workspace/Genion_web/src/pages/chatbot.astro", void 0);

const $$file = "/home/linuxdevco/Workspace/Genion_web/src/pages/chatbot.astro";
const $$url = "/chatbot";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	default: $$Chatbot,
	file: $$file,
	url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

export { $$Chatbot as $, _page as _ };
